!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.imageSlider=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function c(e){y.map(function(e){e.classList.remove("active")}),e.classList.add("active")}var t,s,o,l,a,u={},d=!!document.querySelector&&!!e.addEventListener,m=Number(0),f=Number(0),g=[],v=[],y=[],L=(Number(0),{initClass:"imageslider-js",onInit:function(){},OnAttachEvents:function(){},onDestroy:function(){}}),i=function(e){y.map(function(e){e.classList.remove("active")}),y[e].classList.add("active")},n=function(e){v.map(function(e){e.classList.remove("active")}),v[e].classList.add("active")};const r=e=>{e.offsetHeight};function b(){f=0===m?g.length-1:m-1,S()}function h(){f=m>=g.length-1?0:m+1,S()}function p(e){void 0!==t[e]&&t[e].call(a)}function E(e,t,i){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(i,e[n],n,e);else for(var r=0,c=e.length;r<c;r++)t.call(i,e[r],r,e)}var S=function(){console.log("currentSlide",m),console.log("nextSlide",f);var e=m<f?"imageslider-item-start":"imageslider-item-end",t=m<f?"imageslider-item-next":"imageslider-item-prev";g[f].classList.add(t),r(g[f]),g[m].classList.add(e),g[f].classList.add(e),i(f),n(f)};return u.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),document.removeEventListener("click",eventHandler,!1),t=null,p("onDestroy"))},u.init=function(e){var i,n,r;d&&(o=document.querySelector(".imageslider-control-prev"),s=document.querySelector(".imageslider-control-next"),Array.from(document.querySelectorAll(".imageslider-thumbitem")).forEach(e=>{v.push(e)}),Array.from(document.querySelectorAll(".imageslider-item")).forEach(e=>{g.push(e)}),Number(g.length),Array.from(document.querySelectorAll(".imageslider-indicators button")).forEach(e=>{y.push(e),e.classList.contains("active")&&(m=Number(e.getAttribute("data-slide-to")))}),u.destroy(),n=e||{},r={},E(i=L,function(e,t){r[t]=i[t]}),E(n,function(e,t){r[t]=n[t]}),t=r,a=document.querySelector(t.container),g.map(function(e){e.addEventListener("touchstart",function(e){e=e.touches[0].clientX;l=e}),e.addEventListener("touchmove",function(e){null!==l&&(5<(e=l-e.touches[0].clientX)&&h(),e<-5&&b(),l=null)}),e.addEventListener("transitionend",e=>{console.log("transitionend",e.currentTarget),e.currentTarget.classList.contains("active")?e.currentTarget.classList.remove("active","imageslider-item-start","imageslider-item-end","imageslider-item-next","imageslider-item-prev"):(e.currentTarget.classList.remove("imageslider-item-start","imageslider-item-end","imageslider-item-next","imageslider-item-prev"),e.currentTarget.classList.add("active")),m=f})}),document.querySelector(".imageslider-control-fullscreen").addEventListener("click",function(e){g[m].querySelector("img").classList.add("fullscreen");var t=g[m].querySelector("img").getAttribute("src");document.getElementById("fullscreen");document.querySelector("#fullscreen .image").style.backgroundImage="url("+t+")",document.querySelector("#fullscreen").style.visibility="visible",document.querySelector("#fullscreen").classList.add("show")}),document.querySelector("#fullscreen").addEventListener("click",function(e){e.currentTarget.style.visibility="hidden",e.currentTarget.classList.remove("show")}),y.map(function(t){t.addEventListener("click",function(e){c(e.target),f=Number(t.getAttribute("data-slide-to")),S()})}),v.map(function(t){t.addEventListener("click",function(e){c(e.target),f=Number(t.getAttribute("data-slide-to")),S()})}),o.addEventListener("click",function(e){b()}),s.addEventListener("click",function(e){h()}),p("OnAttachEvents"),p("onInit"))},u.closePanels=function(){close()},u});