!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.imageSlider=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function c(e){v.map(function(e){e.classList.remove("active")}),e.classList.add("active")}var t,s,o,l,a={},d=!!document.querySelector&&!!e.addEventListener,u=Number(0),m=Number(0),f=[],g=[],v=[],y=(Number(0),{initClass:"imageslider-js",onInit:function(){},OnAttachEvents:function(){},onDestroy:function(){}}),i=function(e){v.map(function(e){e.classList.remove("active")}),v[e].classList.add("active")},n=function(e){g.map(function(e){e.classList.remove("active")}),g[e].classList.add("active")};const r=e=>{e.offsetHeight};function L(){console.log("currentSlide",u),console.log("nextSlide",m);var e=u<m?"imageslider-item-start":"imageslider-item-end",t=u<m?"imageslider-item-next":"imageslider-item-prev";f[m].classList.add(t),r(f[m]),f[u].classList.add(e),f[m].classList.add(e),i(m),n(m)}function b(e){void 0!==t[e]&&t[e].call(l)}function p(e,t,i){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(i,e[n],n,e);else for(var r=0,c=e.length;r<c;r++)t.call(i,e[r],r,e)}return a.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),document.removeEventListener("click",eventHandler,!1),t=null,b("onDestroy"))},a.init=function(e){var i,n,r;d&&(o=document.querySelector(".imageslider-control-prev"),s=document.querySelector(".imageslider-control-next"),Array.from(document.querySelectorAll(".imageslider-thumbitem")).forEach(e=>{g.push(e)}),Array.from(document.querySelectorAll(".imageslider-item")).forEach(e=>{f.push(e)}),Number(f.length),Array.from(document.querySelectorAll(".imageslider-indicators button")).forEach(e=>{v.push(e),e.classList.contains("active")&&(u=Number(e.getAttribute("data-slide-to")))}),a.destroy(),n=e||{},r={},p(i=y,function(e,t){r[t]=i[t]}),p(n,function(e,t){r[t]=n[t]}),t=r,l=document.querySelector(t.container),f.map(function(e){e.addEventListener("transitionend",e=>{console.log("transitionend",e.currentTarget),e.currentTarget.classList.contains("active")?e.currentTarget.classList.remove("active","imageslider-item-start","imageslider-item-end","imageslider-item-next","imageslider-item-prev"):(e.currentTarget.classList.remove("imageslider-item-start","imageslider-item-end","imageslider-item-next","imageslider-item-prev"),e.currentTarget.classList.add("active")),u=m})}),document.querySelector(".imageslider-control-fullscreen").addEventListener("click",function(e){f[u].querySelector("img").classList.add("fullscreen");var t=f[u].querySelector("img").getAttribute("src");document.getElementById("fullscreen");document.querySelector("#fullscreen .image").style.backgroundImage="url("+t+")",document.querySelector("#fullscreen").style.visibility="visible",document.querySelector("#fullscreen").classList.add("show")}),document.querySelector("#fullscreen").addEventListener("click",function(e){e.currentTarget.style.visibility="hidden",e.currentTarget.classList.remove("show")}),v.map(function(t){t.addEventListener("click",function(e){c(e.target),m=Number(t.getAttribute("data-slide-to")),L()})}),g.map(function(t){t.addEventListener("click",function(e){c(e.target),m=Number(t.getAttribute("data-slide-to")),L()})}),o.addEventListener("click",function(e){m=0===u?f.length-1:u-1,L()}),s.addEventListener("click",function(e){m=u>=f.length-1?0:u+1,L()}),b("OnAttachEvents"),b("onInit"))},a.closePanels=function(){close()},a});